buildscript {
    repositories {
        mavenCentral()
        maven { url 'http://dl.bintray.com/jfrog/jfrog-jars' }
    }
    dependencies {
        classpath 'com.android.tools.build:gradle:0.12.+'
        classpath(group: 'org.jfrog.buildinfo', name: 'build-info-extractor-gradle', version: '2.2.3')
    }
}

apply plugin: 'java'
apply plugin: 'maven'
apply plugin: 'artifactory'

apply from: 'configuration.gradle'

dependencies {
    compile gradleApi()
    compile 'org.jfrog.buildinfo:build-info-extractor-gradle:2.2.3'
}

sourceCompatibility = 1.6

jar.baseName = 'raiz-library-plugin'

repositories {
    mavenCentral()
}

artifactory {
    contextUrl = "${artifactory_contextUrl}"   //The base Artifactory URL if not overridden by the publisher/resolver
    publish {
        repository {
            contextUrl = "${artifactory_contextUrl}"
            repoKey = 'android-dev'
            username = "${artifactory_user}"
            password = "${artifactory_password}"
            maven = true

        }
    }
    resolve {
        repository {
            contextUrl = "${artifactory_contextUrl}"
            repoKey = 'android-dev-distributions'
            username = "${artifactory_user}"
            password = "${artifactory_password}"
            maven = true

        }
    }
}

task sourcesJar(type: Jar) {
    classifier = 'sources'
    from sourceSets.main.allSource
}
